!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.bigmacIndexPriceCalculator={})}(this,function(e){var n=require("isomorphic-fetch"),t={Switzerland:6.62,Norway:5.86,Sweden:5.84,"United States":5.58,Canada:5.08,"Euro area":4.64,Denmark:4.6,Israel:4.58,Brazil:4.55,Australia:4.35,Lebanon:4.31,Uruguay:4.31,Singapore:4.28,"New Zealand":4.19,Britain:4.07,"South Korea":4.02,Chile:3.89,"United Arab Emirates":3.81,"Czech Republic":3.81,"Costa Rica":3.77,Colombia:3.73,Thailand:3.72,Japan:3.6,Honduras:3.49,Kuwait:3.46,Pakistan:3.31,Qatar:3.3,Croatia:3.24,Guatemala:3.23,"Saudi Arabia":3.2,Bahrain:3.18,Nicaragua:3.18,"Sri Lanka":3.18,Peru:3.14,China:3.05,Hungary:3.03,Vietnam:2.8,Poland:2.8,Jordan:2.75,Oman:2.73,Philippines:2.67,India:2.55,"Hong Kong":2.55,Mexico:2.54,Indonesia:2.34,Azerbaijan:2.33,Moldova:2.32,Romania:2.29,Taiwan:2.24,"South Africa":2.24,Egypt:2.23,Malaysia:2.2,Argentina:2,Turkey:2,Ukraine:1.94,Russia:1.65},a=function(e){this.ipstack_key=e,this.cache={}};a.prototype.ipstack=function(e){try{var t=this;function a(){return t.cache[r]}var r=e||"check",i=function(){if(!t.cache[r])return Promise.resolve(n("http://api.ipstack.com/"+r+"?access_key="+t.ipstack_key)).then(function(e){return Promise.resolve(e.json()).then(function(e){t.cache[r]=e})})}();return i&&i.then?i.then(a):a()}catch(e){return Promise.reject(e)}},a.prototype._price=function(e,n){var a=e/t["United States"],r=e;return n.country_name in t?r=Math.round(a*t[n.country_name]):"EU"===n.continent_code?r=Math.round(a*t["Euro area"]):"AS"===n.continent_code?r=Math.round(a*t.Vietnam):"AF"===n.continent_code?r=Math.round(a*t.Egypt):"SA"===n.continent_code&&(r=Math.round(a*t.Brazil)),r},a.prototype.price=function(e,n){try{var t=this;return Promise.resolve(t.ipstack(n)).then(function(n){return t._price(e,n)})}catch(e){return Promise.reject(e)}},a.prototype.priceWithLocation=function(e,n){try{var t=this;return Promise.resolve(t.ipstack(n)).then(function(n){return{fairPrice:t._price(e,n),location:n}})}catch(e){return Promise.reject(e)}},e.BigMacIndex=t,e.ParityPrice=a});
//# sourceMappingURL=index.umd.js.map
